<% content_for :title do %>
    <% if params[:search].present? %>
        <% "OpenSplitTime: Search people - #{params[:search]}" %>
    <% else %>
        <% "OpenSplitTime: Search people" %>
    <% end %>
<% end %>

<header class="ost-header">
  <div class="container">
    <div class="row">
      <div class="ost-title col">
        <h1><strong>People</strong></h1>
        <ul class="breadcrumb breadcrumb-ost">
          <li class="breadcrumb-item active">People</li>
        </ul>
      </div>
    </div>
  </div>
</header>

<aside class="ost-toolbar">
  <div class="container">
    <div class="row">
      <div class="col form-inline justify-content-between">
        <%= render 'lookup' %>
        <% if current_user&.admin? %>
            <%= link_to 'Create a new person', new_person_path,
                        class: 'btn btn-sm btn-success' %>
        <% end %>
      </div>
    </div>
  </div>
</aside>

<article class="ost-article container">
  <%= will_paginate(inner_window: 2, outer_window: 0, renderer: WillPaginate::ActionView::Bootstrap4LinkRenderer) %>
  <% if @people.present? %>
      <%= render 'people_list' %>
  <% else %>
      <br/>
      <% if params[:search].blank? %>
          <p><strong>Find someone by entering a name, state, or country</strong></p>
      <% elsif params[:search].length < 3 %>
          <p><strong>Search parameter is too short</strong></p>
      <% else %>
          <p><strong>No people match this search</strong></p>
      <% end %>
  <% end %>
  <%= will_paginate(inner_window: 2, outer_window: 0, renderer: WillPaginate::ActionView::Bootstrap4LinkRenderer) %>
</article>
